namespace AuHealthIds
{
    [TestClass]
    public class ValidatorTests
    {
	    // Note due to privacy reasons these are all randomly generated test cases.
	    // There may be real-world edge cases that will trip up the validator.
        [DataTestMethod]
        [DataRow(IdentifierType.HPI_I, "8003619082613990", true)]
        [DataRow(IdentifierType.HPI_I, "8003611987656547", true)]
        [DataRow(IdentifierType.HPI_I, "8003615820020332", true)]
        [DataRow(IdentifierType.HPI_I, "8003618184725298", true)]
        [DataRow(IdentifierType.HPI_I, "8003611000726103", true)]
        [DataRow(IdentifierType.HPI_I, "8003618894639987", true)]
        [DataRow(IdentifierType.HPI_I, "8003615251090184", true)]
        [DataRow(IdentifierType.HPI_I, "8003611666575372", true)]
        [DataRow(IdentifierType.HPI_I, "8003610861445423", true)]
        [DataRow(IdentifierType.HPI_I, "8003618385723894", true)]
        [DataRow(IdentifierType.HPI_O, "8003627634264964", true)]
        [DataRow(IdentifierType.HPI_O, "8003620123426285", true)]
        [DataRow(IdentifierType.HPI_O, "8003625911144545", true)]
        [DataRow(IdentifierType.HPI_O, "8003626561115082", true)]
        [DataRow(IdentifierType.HPI_O, "8003622293234358", true)]
        [DataRow(IdentifierType.HPI_O, "8003624838954706", true)]
        [DataRow(IdentifierType.HPI_O, "8003622508643930", true)]
        [DataRow(IdentifierType.HPI_O, "8003623793551580", true)]
        [DataRow(IdentifierType.HPI_O, "8003625249027032", true)]
        [DataRow(IdentifierType.HPI_O, "8003628184420071", true)]
        [DataRow(IdentifierType.IHI, "8003600801582161", true)]
        [DataRow(IdentifierType.IHI, "8003603371729691", true)]
        [DataRow(IdentifierType.IHI, "8003606570290472", true)]
        [DataRow(IdentifierType.IHI, "8003600172141001", true)]
        [DataRow(IdentifierType.IHI, "8003605524318835", true)]
        [DataRow(IdentifierType.IHI, "8003605628282366", true)]
        [DataRow(IdentifierType.IHI, "8003602652739312", true)]
        [DataRow(IdentifierType.IHI, "8003602737488737", true)]
        [DataRow(IdentifierType.IHI, "8003608196436950", true)]
        [DataRow(IdentifierType.IHI, "8003604689914256", true)]
        [DataRow(IdentifierType.Medicare, "2218651783", true)]
        [DataRow(IdentifierType.Medicare, "5988768743", true)]
        [DataRow(IdentifierType.Medicare, "5866176727", true)]
        [DataRow(IdentifierType.Medicare, "2768141434", true)]
        [DataRow(IdentifierType.Medicare, "2357536236", true)]
        [DataRow(IdentifierType.Medicare, "3453744952", true)]
        [DataRow(IdentifierType.Medicare, "2653981485", true)]
        [DataRow(IdentifierType.Medicare, "5542531524", true)]
        [DataRow(IdentifierType.Medicare, "5145749942", true)]
        [DataRow(IdentifierType.Medicare, "5722696853", true)]
        [DataRow(IdentifierType.Prescriber, "9554438", true)]
        [DataRow(IdentifierType.Prescriber, "7273490", true)]
        [DataRow(IdentifierType.Prescriber, "9448261", true)]
        [DataRow(IdentifierType.Prescriber, "5855302", true)]
        [DataRow(IdentifierType.Prescriber, "6087760", true)]
        [DataRow(IdentifierType.Prescriber, "4960797", true)]
        [DataRow(IdentifierType.Prescriber, "5691210", true)]
        [DataRow(IdentifierType.Prescriber, "7610637", true)]
        [DataRow(IdentifierType.Prescriber, "9745771", true)]
        [DataRow(IdentifierType.Prescriber, "0570467", true)]
        [DataRow(IdentifierType.Provider, "0855731W", true)]
        [DataRow(IdentifierType.Provider, "764363YA", true)]
        [DataRow(IdentifierType.Provider, "487158VX", true)]
        [DataRow(IdentifierType.Provider, "268459JX", true)]
        [DataRow(IdentifierType.Provider, "960364DB", true)]
        [DataRow(IdentifierType.Provider, "3858217T", true)]
        [DataRow(IdentifierType.Provider, "124192WX", true)]
        [DataRow(IdentifierType.Provider, "1099213W", true)]
        [DataRow(IdentifierType.Provider, "2264570B", true)]
        [DataRow(IdentifierType.Provider, "091932LF", true)]
        [DataRow(IdentifierType.DVA, "WPCR385224C", true)]
        [DataRow(IdentifierType.DVA, "WHKS552150A", true)]
        [DataRow(IdentifierType.DVA, "TIV390588C", true)]
        [DataRow(IdentifierType.DVA, "QNSS140921B", true)]
        [DataRow(IdentifierType.DVA, "VPAD987768A", true)]
        [DataRow(IdentifierType.DVA, "NQ209240B", true)]
        [DataRow(IdentifierType.DVA, "QA612909A", true)]
        [DataRow(IdentifierType.DVA, "SCNK250465A", true)]
        [DataRow(IdentifierType.DVA, "SPCR983348C", true)]
        [DataRow(IdentifierType.DVA, "QSA681145B", true)]
        [DataRow(IdentifierType.AHPRA, "OST5940808238", true)]
        [DataRow(IdentifierType.AHPRA, "CMR9514689580", true)]
        [DataRow(IdentifierType.AHPRA, "NMW9680975137", true)]
        [DataRow(IdentifierType.AHPRA, "POD8630165032", true)]
        [DataRow(IdentifierType.AHPRA, "POD3518582738", true)]
        [DataRow(IdentifierType.AHPRA, "DEN3248152547", true)]
        [DataRow(IdentifierType.AHPRA, "ATS9108641618", true)]
        [DataRow(IdentifierType.AHPRA, "PHA0973418281", true)]
        [DataRow(IdentifierType.AHPRA, "DEN9283361848", true)]
        [DataRow(IdentifierType.AHPRA, "OCC7136941893", true)]
        public void Validators(IdentifierType type, string id, bool expectedResult)
        {
            var result = IdentifierTools.ValidateId(type, id);
            Assert.AreEqual(expectedResult, result);
        }

        [DataTestMethod]
        [DataRow(IdentifierType.AHPRA)]
        [DataRow(IdentifierType.DVA)]
        [DataRow(IdentifierType.IHI)]
        [DataRow(IdentifierType.HPI_I)]
        [DataRow(IdentifierType.HPI_O)]
        [DataRow(IdentifierType.AHPRA)]
        [DataRow(IdentifierType.Medicare)]
        [DataRow(IdentifierType.Prescriber)]
        [DataRow(IdentifierType.Provider)]
        public void NullTest(IdentifierType type)
        {
            Assert.ThrowsException<ArgumentException>(() => IdentifierTools.ValidateId(type, ""));
            Assert.ThrowsException<ArgumentException>(() => IdentifierTools.ValidateId(type, null));
        }
    }
}
